# æ™ºèƒ½Agentç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªåŸºäºSpring Bootçš„æ™ºèƒ½Agentç³»ç»Ÿï¼Œèƒ½å¤Ÿè°ƒç”¨å†…ç½®å·¥å…·å’ŒMCPå·¥å…·æ¥æ‰§è¡Œå„ç§ä»»åŠ¡ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
src/main/java/com/example/springai/neww/
â”œâ”€â”€ agent/                  # Agentæ ¸å¿ƒ
â”‚   â”œâ”€â”€ AgentService.java      # ä¸»æœåŠ¡ç±»
â”‚   â”œâ”€â”€ AgentRequest.java      # è¯·æ±‚æ¨¡å‹
â”‚   â”œâ”€â”€ AgentResponse.java     # å“åº”æ¨¡å‹
â”‚   â””â”€â”€ ToolInvocation.java    # å·¥å…·è°ƒç”¨æ¨¡å‹
â”œâ”€â”€ tools/                  # å·¥å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ Tool.java              # å·¥å…·æ¥å£
â”‚   â”œâ”€â”€ ToolResult.java        # å·¥å…·æ‰§è¡Œç»“æœ
â”‚   â”œâ”€â”€ BuiltinToolRegistry.java # å†…ç½®å·¥å…·æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ McpToolRegistry.java   # MCPå·¥å…·æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ builtin/               # å†…ç½®å·¥å…·
â”‚   â”‚   â”œâ”€â”€ CalculatorTool.java    # è®¡ç®—å™¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ DateTimeTool.java      # æ—¥æœŸæ—¶é—´å·¥å…·
â”‚   â”‚   â””â”€â”€ SystemInfoTool.java    # ç³»ç»Ÿä¿¡æ¯å·¥å…·
â”‚   â””â”€â”€ mcp/                   # MCPå·¥å…·
â”‚       â”œâ”€â”€ WeatherTool.java       # å¤©æ°”å·¥å…·
â”‚       â””â”€â”€ FileTool.java          # æ–‡ä»¶æ“ä½œå·¥å…·
â”œâ”€â”€ controller/             # RESTæ§åˆ¶å™¨
â”‚   â””â”€â”€ AgentController.java   # Agent APIæ§åˆ¶å™¨
â””â”€â”€ config/                 # é…ç½®
    â””â”€â”€ AgentConfig.java       # Agenté…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨åº”ç”¨

```bash
mvn spring-boot:run
```

### 2. è®¿é—®æ¼”ç¤ºé¡µé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8080`

### 3. ä½¿ç”¨API

#### å‘é€æ¶ˆæ¯ç»™Agent
```bash
curl -X POST http://localhost:8080/api/agent/message \
  -H "Content-Type: application/json" \
  -d '{"message": "è®¡ç®— 2+3*4"}'
```

#### è·å–å¯ç”¨å·¥å…·åˆ—è¡¨
```bash
curl http://localhost:8080/api/agent/tools
```

#### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8080/api/agent/health
```

## ğŸ”§ å¯ç”¨å·¥å…·

### å†…ç½®å·¥å…·

1. **è®¡ç®—å™¨å·¥å…· (calculator)**
   - åŠŸèƒ½ï¼šæ‰§è¡Œæ•°å­¦è®¡ç®—
   - å‚æ•°ï¼šexpressionï¼ˆæ•°å­¦è¡¨è¾¾å¼ï¼‰
   - ç¤ºä¾‹ï¼š`"è®¡ç®— 2+3*4"` æˆ– `"calculate 10/2"`

2. **æ—¥æœŸæ—¶é—´å·¥å…· (datetime)**
   - åŠŸèƒ½ï¼šè·å–å½“å‰æ—¥æœŸæ—¶é—´
   - å‚æ•°ï¼šformatï¼ˆå¯é€‰ï¼‰ã€timezoneï¼ˆå¯é€‰ï¼‰
   - ç¤ºä¾‹ï¼š`"ç°åœ¨å‡ ç‚¹äº†"` æˆ– `"å½“å‰æ—¶é—´"`

3. **ç³»ç»Ÿä¿¡æ¯å·¥å…· (systeminfo)**
   - åŠŸèƒ½ï¼šè·å–ç³»ç»Ÿä¿¡æ¯
   - å‚æ•°ï¼štypeï¼ˆå¯é€‰ï¼šallã€javaã€osã€memoryï¼‰
   - ç¤ºä¾‹ï¼š`"è·å–ç³»ç»Ÿä¿¡æ¯"` æˆ– `"æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ"`

### MCPå·¥å…·

1. **å¤©æ°”å·¥å…· (weather)**
   - åŠŸèƒ½ï¼šè·å–å¤©æ°”ä¿¡æ¯ï¼ˆæ¨¡æ‹Ÿï¼‰
   - å‚æ•°ï¼šlocationï¼ˆåœ°ç‚¹åç§°ï¼‰
   - ç¤ºä¾‹ï¼š`"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·"` æˆ– `"ä¸Šæµ·çš„å¤©æ°”"`

2. **æ–‡ä»¶å·¥å…· (file)**
   - åŠŸèƒ½ï¼šæ–‡ä»¶æ“ä½œï¼ˆè¯»å–ã€å†™å…¥ã€åˆ—è¡¨ã€æ£€æŸ¥å­˜åœ¨ï¼‰
   - å‚æ•°ï¼šoperationã€pathã€contentï¼ˆå¯é€‰ï¼‰
   - ç¤ºä¾‹ï¼š`"æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ /tmp"` æˆ– `"åˆ—å‡ºç›®å½• /home"`

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1. è®¡ç®—æ•°å­¦è¡¨è¾¾å¼
```
ç”¨æˆ·ï¼šè®¡ç®— (10+5)*2-3
Agentï¼šè®¡ç®—ç»“æœ: 27.0
```

### 2. è·å–å½“å‰æ—¶é—´
```
ç”¨æˆ·ï¼šç°åœ¨å‡ ç‚¹äº†
Agentï¼šå½“å‰æ—¶é—´: 2024-01-15 14:30:25
```

### 3. æŸ¥è¯¢å¤©æ°”
```
ç”¨æˆ·ï¼šåŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·
Agentï¼šåŒ—äº¬ å½“å‰å¤©æ°”ï¼šæ™´æœ—ï¼Œæ¸©åº¦ 15Â°Cï¼Œæ¹¿åº¦ 45%
```

## ğŸ¯ ç‰¹æ€§

- âœ… æ¨¡å—åŒ–æ¶æ„ï¼Œæ˜“äºæ‰©å±•
- âœ… æ”¯æŒå†…ç½®å·¥å…·å’ŒMCPå·¥å…·
- âœ… æ™ºèƒ½æ„å›¾è¯†åˆ«
- âœ… RESTful APIæ¥å£
- âœ… Webæ¼”ç¤ºç•Œé¢
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
- âœ… æ—¥å¿—è®°å½•
- âœ… CORSæ”¯æŒ 